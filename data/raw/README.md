# Datasets Introduction

## TL;DR
We release two projects [FFmpeg](https://github.com/FFmpeg/FFmpeg), [Qemu](https://github.com/qemu/qemu), which contain raw csv data and functions extracted from the commit.

- The [csv file](https://drive.google.com/drive/folders/1RqtDcOKKnIWxYAmkOTULYeJhuw_KTNys) contains three columns: `sha_id`, `project` and `vulnerability` (Label to indicate if the commit is an vulnerability fixed or not).
- The function [dataset](./dataset.json) is constructed from the commit id list:

```js
{
    "project"   : "<project_name>", // "qemu" or "FFmpeg"
    "commid_id" : "<commit_id>"   ,
    "target"    : "<label>"       , // 0 or 1 (vulnerability or not)
    "func"      : "<source_code>" , // raw source code
}
```

## What

We use 4 popular and diversified open-source libraries: **Linux**, **FFmpeg**, **Qemu** and **Wireshark** to check if our methods can be used to predicted as many types of vulnerabilities as possible.

<p align="center">
    <img src="../../images/datasets.png">
</p>

## Why

For the projects:

- **Linux kernel:** provides the essential services for all parts of the operation system, helps with process and memory management, file systems, device and networking. That is why most vulnerabilities in Linux are memory corruption and race condition.
- **Qemu:** is a hosted virtual machine monitor that performs hardware virtualization. The major types of vulnerabilities are DoS, code execution caused by overflow etc.
- **Wireshark:** is an open-source packet analyzer. It is used for network troubleshooting, analysis, software and communications protocol development, and education. The major types of vulneraries are memory leak, DoS caused by craft packets and overflow, and et. etc.
- **FFmpeg:** consists of a vast software suite of libraries and programs for handling video, audio, and other multimedia files and streams. The major types of vulnerabilities are overflow.

## How

### Commits Filtering
As most of commits are security unrelated. We use a set of security-related keywords and the regular expression method to exclude unrelated commits.  We pick out the crucial words that frequently appeared in the commit messages. The word list are shown in the Table 2 Keywords in Filtering Process.  

<p align="center">
    <img src="../../images/keyword_filtering_proccess.png">
</p>

### Manual Labeling

The manual labeling process consists of two major steps:

- Initial verification: A group of three security researchers (bachelors) hired by the industrial collaborator examine each filter commit. The company  is a security company focuses on vulnerability identification and management. We ensure every commit is checked by two different security researchers.
- Final confirmation. If the labels of a commit by two researchers are different or include unsure labels, the commit would be forwarded to a senior researcher (PhD) for verification.